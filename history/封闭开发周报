周报

2020.10.25 ~ 2020.10.30

系统服务稳定性

1. 新导航项目
后端已进入测试阶段，前端部分页面已进入测试阶段。
总测试Bug数量：20
阻塞性P0级Bug：0
已修复Bug数量：15
待修复Bug数量：5

问题主要集中在租户导航配置以及历史数据同步上。租户配置数据和功能一样属于产品的一部分，不能有半点错误。后面会加大对租户配置数据的问题排查并且模拟演练上线后的租户历史数据同步场景。


自动测试状态
暂无

项目组上周工作进度总结

1. 新导航项目
总体开发进度90%，测试进度：50%

前端开发总体滞后9天，预计11.4验收
子应用改造耗时（工程合并，打包方式不同，全局样式修改，外部脚本加载出错，SSR问题最多）
nginx改造耗时（区分主应用及子应用路径和目录，不同工程静态资源目录不同，需要逐一改造）


2. 工作台项目
总体开发进度50%，测试进度：0%
进度正常，预计11.6开发完成

3. DAM国际化项目
总体开发进度80%，测试进度：0%
进度正常，等待产品团队的翻译文案（希望能早点交付）

核心指标发现

暂无指标数据

1. 新导航项目（核心指标思考）
	新导航主要有3点改进，1）导航入口可配置 2）导航入口更便捷 3）页面加载更丝滑

	可以按照这三点作为核心指标，埋点记录记录用户配置次数，导航入口点击次数，页面加载性能对比。最后可有客户成功团队调查用户满意度。

2. 工作台项目（核心指标思考）
	工作台核心有2点，1）入口便捷 2）信息简洁高效 3）入口卡片可配置

	应当埋点记录用户在工作台的进入次数、停留时间，判断是否对用户有用。埋点记录用户配置卡片的次数，判断该功能是否合理


赞人赞事及反馈总结

1. 新导航项目
项目组内
	朱成作为项目组研发负责人，提前预估项目风险，做了租户上线模拟演练，减少上线后风险。

项目组外
	新导航项目涉及到vms前端所有客户端工程，中间需要各项目组员提供支持，更需要运维组的大力支持
	感谢以下小伙伴的大力支持（包括但不限于）
	运维组
		感谢建章帮忙配置静态资源cdn跨域，支持前端nginx配置
		感谢陈年金、刘豪杰帮忙配置前端nginx，Jenkins
	健哥组
		感谢魏程程、谢文奇帮忙改造前端工程6个
		感谢张健在nginx配置方面的深度指导
	小俊组
		感谢张小俊在后端设计上的深度指导
	峰哥组
		感谢乔刚峰在前端项目上的指导
	大平台组
		感谢马宗浩、杨良飞在子应用改造上的支持

	感谢修涵、强兴的背后支持


2. 工作台项目
	吴志伟作为项目组研发负责人，充分与产品沟通，问题记录非常清晰并同步给项目组员，项目规划非常完善。




2020.11.1 ~ 2020.11.6

系统服务稳定性

1. 新导航项目
微应用改造完成，部署到测试环境。测试人员回归全站功能后，提出大量的功能和样式上的bug，问题主要集中在乾坤框架和IE适配上。单个微应用的改造问题已全部解决，所有微应用集成后爆发的问题之前没有做好准备，一时间没有快速的解决方案，造成项目延期。


自动测试状态
暂无

项目组上周工作进度总结

1. 新导航项目
上线失败
	11.4开始验收，准备11.6上线。测试+验收后提出大量的功能和样式问题，问题主要集中在乾坤框架和IE适配上，无法快速解决，造成上线失败。

失败原因总结
	本次前端共改造25个微应用，单个微应用改造遇到的问题都已解决。然而在测试环境整合所有的微应用后出现了较多的框架性问题和页面样式问题，这是一个技术性的难题，之前团队在微前端方面没有积累过经验，这是第一次尝试（对我们全站的使用体验及后续扩展有很大的帮助），过程中遇到的坑需要我们一一填平。另外造成失败的原因是我们没有备选方案，不能及时调整策略，优先保证业务进展。

临时方案
	微前端框架性的问题短时间内不能快速解决，为了减少对业务的影响，我们准备先上一套临时方案。暂时不用微前端方案，全部站点替换新导航条。优点：无框架性问题；缺点：切换站点时会刷新页面，造成短时间内的页面白屏，影响用户体验。

上线时间
	11.11开发完成，11.13日验收完成，11.14（周六）上线

后续计划
	临时方案上线后，立马着手解决微前端框架性的问题。


2. 工作台项目
总体开发进度90%，测试进度：0%
进度轻微延迟，主要受后端数据开发影响，预计11.9开发完成，11.11晚上线


核心指标发现
暂无


赞人赞事及反馈总结
暂无




系统服务稳定性:
2020.11.8 ~ 2020.11.13

1. 新导航项目(渐进方案)
微应用的方案遇到技术瓶颈后，为了不影响产品进度，临时替换了一个渐进方案，所有站点替换新的导航条，预计周末上线。

2. 工作台项目
11.11晚上线成功。上线后无功能性bug，前端有些小的样式问题，数据层面的问题较多。另外站点不支持IE，下一步需要支持。

自动测试状态:
暂无

项目组上周工作进度总结:
1. 新导航项目
➢ 开发
	开发新版导航条样式
	替换所有站点的导航条
	修改所有站点的页面布局样式
	测试+产品验收后提出问题180个（去重后大概120），目前已全部修复

➢ 上线时间
	预计周六上线
	周六未上线，周日上线预发环境

➢ 后续计划
	周三（11.8)给客户演示后，上线到生产环境。
	上线后会继续处理微前端的问题

2. 工作台项目
11.11晚已上线

核心指标发现:
暂无

赞人赞事及反馈总结:
为了配合周六上线，运维同事陈年金特地赶来佘山这边支持我们。为了保证上线后的效果，所有产品线的产品同事也帮助我们验收产品线的页面，特此感谢。我们一起努力，打造更好的产品。


微前端的改造分三步

1. 解决系统性报错bug，目前已完成
2. 系统性能优化，进行中
	减少工程编译后的代码体积
		提取公共依赖包（react、moment、lodash等），已开始
		统一埋点sdk版本， 已完成
		大工程拆分（AI工程有四个项目，要拆分为4个独立工程），未开始
		分析dam、ai工程打包体积大的原因，已开始
	优化css样式名重复引入问题，已完成
3. nginx 前端路径优化，未开始
	统一打包后的dist目录（js、css、html），优化后nginx代码会减少70%
	统一使用正则匹配html目录


这次封闭开发期间主要做了3件事

1. 带领大家挑战项目难度，完成业务开发
	完成新导航项目，升级前端框架，优化前端工程包体积
	工作台项目快速开发并上线
	水印项目重构素材预览模块（分层展示，支持后续信息展示与编辑），自研实现PDF水印方案
	其他一些小项目（活动日志、Dam国际化...)


2. 培养团队人才
	新导航项目耗时最长，对团队是一次很好的磨练。前后端已熟悉特赞数据智能系统，对代码各模块也有较深的认识。钱超、缪嗣钰、庞远石已修改过微前端的所有模块代码，对后续如何优化系统也有清晰的计划。
	
	每个项目指定内部负责人，负责和产品经理、设计师对接，管理项目进度。
		新导航项目：朱成
			对接产品经理：姜明磊、吴晓静
			表现：积极与产品经理讨论PRD需求，制定解决方案。更新每日晨报，进度可控。项目上线后实时关注动态，积极响应。

		工作台项目：吴志伟
			对接产品经理：王会
			表现：项目执行做的非常仔细，PRD有疑问的地方及时和王会沟通，沟通后及时总结并同步更新到项目群通知所有人。

		水印项目：李俊
			对接产品经理：徐宾灿
			表现：非常关注功能的技术实现方案，能很好的保证产品代码质量。项目管控以及和产品经理沟通上还有待提升。


3. 建设团队文化
	让大家快速融入团队，互相熟悉彼此兴趣爱好和成长经历
	了解特赞发展历史和文化价值观
	了解数据智能业务以及服务的客户
	激发团队思考加入特赞的意义，如何贡献自己的力量
	团结一致，战斗到底，敢于啃硬骨头
	每晚项目进度同步会议，还有互动学习环节
	新导航上线项目复盘会议，提升大家对代码、业务和客户的敏感度


团队反馈
	整个团队非常团结，节奏一致。遇到问题不会区分前后端，谁看到了就会去排查。
	在产品上有自己的理解，会给产品经理提建议。（非常好的变化，后续会持续在业务上给予引导）
	团队成长非常迅速，每位成员都可以独当一面了
		由于新导航项目的上线刺激，大家对代码、数据、客户需求都非常敏感，及时发现问题，及时解决
		已经非常熟悉特赞的整套系统
		朱成、吴志伟在项目管理上表现出色；李俊在技术方案上深入思考，扩展性高
		钱超、缪嗣钰、庞远石已熟悉前端各大业务模块和一整套发布流程，过程中总结了系统的待优化问题并给出解决方案

跨团队之间的影响，（每个团队在做什么，整体性思考）
